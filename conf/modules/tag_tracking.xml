<!DOCTYPE module SYSTEM "module.dtd">
<module name="tag_tracking" dir="tracking">
  <doc>
    <description>Track poistion of a tag (ArUco, QRcode, ...) detected by an onboard camera
      The tag detection and pose computation is done outside of the module, only the estimation by fusion of AHRS and visual detection with a Kalman filter is performed in this module
    </description>
  </doc>
  <settings target="ap|nps">
    <dl_settings>
      <dl_settings NAME="Tag Tracking">
        <dl_setting var="tag_tracking.kp" min="0." step="0.001" max="0.2" shortname="kp" module="modules/tracking/tag_tracking"/>
        <dl_setting var="tag_tracking.kd" min="0." step="0.001" max="0.2" shortname="kd" module="modules/tracking/tag_tracking"/>
        <dl_setting var="tag_tracking.kp_climb" min="0." step="0.001" max="1." shortname="kp_climb" module="modules/tracking/tag_tracking"/>
      </dl_settings>
    </dl_settings>
  </settings>
  <header>
    <file name="tag_tracking.h"/>
  </header>
  <init fun="tag_tracking_init()"/>
  <periodic fun="tag_tracking_propagate()" freq="10.0" start="tag_tracking_propagate_start()" autorun="TRUE"/>
  <periodic fun="tag_tracking_report()" freq="1.0" autorun="TRUE"/>
  <makefile>
    <file name="tag_tracking.c"/>
    <file name="simple_kinematic_kalman.c"/>
  </makefile>
</module>
